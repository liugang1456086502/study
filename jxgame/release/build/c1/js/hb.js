!function(t,e,i){i.un,i.uns;var n=i.static,s=i.class,o=i.getset,r=(i.__newvec,game.core.ui.Alert),a=(laya.display.Animation,game.core.manager.AudioManager),l=game.core.base.BaseModel,h=game.core.base.BaseModule,u=ui.hb.ui.BetUI,c=(laya.ui.Box,laya.ui.Button,ui.hb.scene.DesktopUI),p=game.core.manager.EffectManager,f=(laya.events.Event,game.core.enum.GameID,game.core.model.GlobalConfig),d=(game.core.enum.GlobalEnum,game.core.model.GlobalModel),m=game.core.enum.GlobalPopup,g=ui.hb.ui.GoldUI,y=laya.utils.Handler,b=ui.hb.popup.HbSetUpUI,v=ui.hb.popup.HelpUI,E=game.core.ui.Jinbi,L=(laya.net.Loader,ui.hb.popup.MatchingUI),_=(game.core.enum.Module,ui.hb.ui.PewUI),A=game.core.manager.PopupManager,S=ui.hb.popup.RecordUI,R=game.core.utils.Redirect,T=ui.hb.popup.RestUI,I=ui.hb.popup.RuleAgreeUI,w=ui.hb.popup.RuleConfirmUI,x=ui.hb.popup.RuleSelectUI,B=game.core.manager.SceneManager,O=ui.hb.scene.SelectUI,C=(game.core.vo.SettingVo,ui.hb.ui.SievesUI),G=game.core.utils.Signal,U=(laya.ani.bone.Skeleton,ui.hb.popup.SlugMoneyUI),M=laya.display.Sprite,N=ui.hb.popup.StartUI,D=ui.hb.ui.StartUI,P=game.core.ui.Toast,k=laya.utils.Tween,H=laya.ui.View,V=function(){function t(){this._playerList=[],this._ruleInfo=null,this._ruleI=0,this._ruleIsMy=!1}s(t,"game.module.hb.data.PlayerData");var e=t.prototype;return e.sieveResults=function(t){for(var e=0;e<this._playerList.length;e++)if(this._playerList[e]&&t.uid==this._playerList[e].uid){F.instance.event("SIEVERESULTS",{i:e,point:t.point});break}},e.getMoney=function(t){for(var e=0;e<t.playerlist.length;e++)if(t.playerlist[e].id==d.instance.self.userId){F.instance.event("GETMONEY",{time:t.time,iswin:t.playerlist[e].iswin});break}},e.backDelete=function(){this._playerList=[]},o(0,e,"getRuleI",function(){return this._ruleI}),o(0,e,"setPlayerGetrule",null,function(t){for(var e=0;e<this._playerList.length;e++)if(this._playerList[e]&&this._playerList[e].uid==t.uid&&1==t.getrule){this._playerList[e].gold=t.gold,t.i=e,F.instance.event("PLAYER_GETRULE",t);break}}),o(0,e,"playerJoin",null,function(t){for(var e=0;e<8;e++)if(!this._playerList[e]){t.uid==d.instance.self.userId&&(e=7),this._playerList[e]=t,F.instance.event("PLAYER_JOIN",e);break}}),o(0,e,"playerList",function(){return this._playerList}),o(0,e,"playerLeave",null,function(t){for(var e=0;e<this._playerList.length;e++)if(this._playerList[e]&&this._playerList[e].uid==t.uid){this._playerList[e]=null,F.instance.event("PLAYER_LEAVE",e);break}}),o(0,e,"playerGold",null,function(t){for(var e=0;e<this._playerList.length;e++)if(this._playerList[e]&&this._playerList[e].uid==t.uid){this._playerList[e].gold=t.gold,t.i=e,F.instance.event("PLAYER_GOLD",t);break}}),o(0,e,"ruleIsMy",function(){return this._ruleIsMy}),o(0,e,"setRuleInfo",null,function(t){for(var e=0;e<this._playerList.length;e++)if(this._playerList[e]&&this._playerList[e].uid==t.uid){this._ruleI=e,t.i=e,F.instance.event("PLAYER_INFO",t);break}this._ruleInfo=t,this._ruleIsMy=t.uid==d.instance.self.userId}),o(0,e,"getRuleInfo",function(){return this._ruleInfo}),o(0,e,"addGold",null,function(t){for(var e=0;e<this._playerList.length;e++)if(this._playerList[e]&&t.uid==this._playerList[e].uid){this._playerList[e].gold=t.gold,t.i=e,F.instance.event("ADDGOLD",t);break}}),t}(),Y=function(){function t(){this._ruleList=["投掷点数最小的玩家，获得红包全部金额","投掷点数最大的玩家，获得红包全部金额","所有投掷点数为小的玩家，每个人开启后获取金额随机","所有投掷点数为大的玩家，每个人开启后获取金额随机"],this._rule=null,this._resultlist=[],this.resultI=0}s(t,"game.module.hb.data.RuleData");var e=t.prototype;return o(0,e,"ruleList",function(){return this._ruleList}),o(0,e,"setRule",null,function(t){this._rule=this._ruleList[t-1]}),o(0,e,"getRule",function(){return this._rule}),o(0,e,"setResult",null,function(t){this._resultlist.push({index:this.resultI,number:t.point,profit:t.money/J.goldrate,rule:this._ruleList[t.ruleid-1]}),this.resultI++}),o(0,e,"getResult",function(){return this._resultlist||[]}),t}(),J=(function(){function t(){}s(t,"game.module.hb.enum.HbPopup"),t.HELP="HELP",t.RECORD="RECORD",t.SETUP="SETUP",t.MATCHING="MATCHING",t.REST="REST",t.START="START",t.RULEAGREE="RULEAGREE",t.RULESELECT="RULESELECT",t.RULECONFIRM="RULECONFIRM",t.SLUGMONEY="SLUGMONEY"}(),function(){function t(){}s(t,"game.module.hb.enum.HbScene"),t.CONTROL="CONTROL",t.SELECT="SELECT",t.DESKTOP="DESKTOP"}(),function(){function t(){}s(t,"game.module.hb.enum.HbSignal"),t.REST="REST",t.START="START",t.PLAYER_JOIN="PLAYER_JOIN",t.PLAYER_LEAVE="PLAYER_LEAVE",t.PLAYER_GOLD="PLAYER_GOLD",t.GETRULETIME="GETRULETIME",t.PLAYER_GETRULE="PLAYER_GETRULE",t.CAN_JOIN="CAN_JOIN",t.PLAYER_INFO="PLAYER_INFO",t.SETRULETIME="SETRULETIME",t.POINTTIME="POINTTIME",t.SIEVERESULTS="SIEVERESULTS",t.GETMONEY="GETMONEY",t.ADDGOLD="ADDGOLD",t.WAIT_TIME="WAIT_TIME"}(),function(){function t(){}return s(t,"game.module.hb.HbConfig"),t.getAniUrl=function(t){return"res/hb/ani/"+t+".json"},t.getSoundUrl=function(t,e){return void 0===e&&(e=!1),"res/hb/sound/"+t+f.getSoundExt(e)},t.goldrate=0,n(t,["INIT_SKINS",function(){return this.INIT_SKINS=[{url:"res/hb/select.json",type:"atlas"},{url:"res/hb/desktop.json",type:"atlas"},{url:"res/hb/ui.json",type:"atlas"},{url:"res/hb/popup.json",type:"atlas"},{url:"res/hb/daojishi.json",type:"atlas"},{url:"res/hb/anniuguang.json",type:"atlas"},{url:"res/hb/ani/avatarAni.png",type:"image"},{url:"res/hb/ani/jiaose.png",type:"image"},{url:"res/hb/ani/saizi.png",type:"image"},{url:"res/hb/ani/youxikaishi.png",type:"image"},{url:"res/hb/ani/zzwnpp.png",type:"image"}]}]),t}()),j=function(){function t(){}return s(t,"game.module.hb.utils.HbSound"),o(1,t,"initSounds",function(){for(var e=[t.getUrl("bg",!0)],i=["start","sieves","gold","jinbi","win","lose","button"];i&&i.length;)e.push(t.getUrl(i.shift()));return e}),t.init=function(){a.start(t.getUrl("bg",!0))},t.effect=function(e){a.playSound(t.getUrl(e))},t.getUrl=function(t,e){return void 0===e&&(e=!1),J.getSoundUrl(t,e)},t}(),F=function(t){function e(){this._isFree=!1,this._playerData=null,this._ruleData=null,e.__super.call(this),this._playerData=new V,this._ruleData=new Y}s(e,"game.module.hb.HbModel",t);var i=e.prototype;return i.init=function(e){t.prototype.init.call(this,e),this._isFree=Boolean(e),this.event("START")},i.onMessage=function(t){"playerJoin"==t.op?this._playerData.playerJoin=t:"playerLeave"==t.op?this._playerData.playerLeave=t:"beginTime"==t.op?this.event("REST",t.time):"playerGold"==t.op?(this._playerData.playerGold=t,this.updateSelf(t)):"getRuleTime"==t.op?this.event("GETRULETIME",t.time):"playerGetrule"==t.op?(this._playerData.setPlayerGetrule=t,this.updateSelf(t)):"getRule"==t.op||("setRuleTime"==t.op?(this._playerData.setRuleInfo=t,this.event("SETRULETIME",t.time)):"noOneGetrule"==t.op||"setRule"==t.op||"sysSetrule"==t.op?this._ruleData.setRule=t.ruleid:"pointTime"==t.op?this.event("POINTTIME",t.time):"open"==t.op?this._playerData.sieveResults(t):"getMoney"==t.op?this._playerData.getMoney(t):"show"==t.op?(this._playerData.addGold=t,this.updateSelf(t)):"waitTime"==t.op?this.event("WAIT_TIME"):"resultlist"==t.op?this._ruleData.setResult=t:"kick"==t.op?this.onKick(t):console.error("----qhb message",t))},i.updateSelf=function(t){t.uid==d.instance.self.userId&&d.instance.updateSelf(t)},i.roomList=function(t){this.send("hb.room.list",null,function(e){t.runWith(e)})},i.roomEnter=function(t,e){this.send("hb.room.enter",t,function(t){t.state?P.error(t.state):e.runWith(t)})},i.tableGetrule=function(t){this.send("hb.table.getrule",t)},i.tableSetrule=function(t){this.send("hb.table.setrule",t)},i.tableOpen=function(){this.send("hb.table.open",null)},i.tableMoney=function(t){this.send("hb.table.money",null,function(e){t.runWith(e)})},i.tableLeave=function(t){this.send("hb.table.leave",null,function(e){t.runWith(e)})},i.onKick=function(t){t.uid;var e=t.type;1==e?r.show("\n您的金币余额不足！是否立即充值？",y.create(this,function(t){t&&m.openShop(),game.module.hb.HbModel.instance.event("SELECT")})):2==e?r.show("\n长时间未操作，回到游戏大厅！",y.create(this,function(t){t&&game.module.hb.HbModel.instance.event("SELECT")})):r.show("\n服务器维护，请稍后重试！",y.create(this,function(t){t&&R.game(101)}),!1,!1,!0)},i.destroy=function(){t.prototype.destroy.call(this),e._instance=null},o(0,i,"ruleData",function(){return this._ruleData}),o(0,i,"isFree",function(){return this._isFree}),o(0,i,"playerData",function(){return this._playerData}),o(1,e,"instance",function(){return e._instance||(e._instance=new e),e._instance},game.core.base.BaseModel._$SET_instance),e._instance=null,e}(l),z=(function(t){function e(){e.__super.call(this),A.reg("HB","HELP",et),A.reg("HB","RECORD",nt),A.reg("HB","SETUP",tt),A.reg("HB","MATCHING",it),A.reg("HB","START",ht),A.reg("HB","REST",st),A.reg("HB","RULEAGREE",ot),A.reg("HB","RULESELECT",at),A.reg("HB","RULECONFIRM",rt),A.reg("HB","SLUGMONEY",lt),B.reg("HB","CONTROL",z);var t=J.INIT_SKINS;t=t.concat(j.initSounds),this.init(t)}s(e,"game.module.hb.HbModule",t);var i=e.prototype;i.onInit=function(){t.prototype.onInit.call(this),F.instance.once("START",this,this.start),F.instance.init(this.dataSource)},i.start=function(){B.enter("HB","CONTROL"),this.initComplete()},i.enter=function(e){t.prototype.enter.call(this,e),j.init()},i.remove=function(){t.prototype.remove.call(this)},i.destroy=function(t){void 0===t&&(t=!0),laya.display.Sprite.prototype.destroy.call(this,t),F.instance.destroy()}}(h),function(t){function e(){this._layer=null,this.classList=[W,K],this.viewList=[],e.__super.call(this),this._layer=new M,this.addChild(this._layer),F.instance.on("SELECT",this,this.showView,[0]),F.instance.on("DESKTOP",this,this.showDesktop),this.showView(0)}s(e,"game.module.hb.scene.Control",t);var i=e.prototype;return i.showDesktop=function(t){this.showView(1);var e=this._layer.getChildAt(0);e&&e.openDesktop(t)},i.showView=function(t){this._layer.removeChildren();var e=this.viewList[t];e||((e=new this.classList[t]).scaleX=1280/e.width,e.scaleY=720/e.height,this.viewList[t]=e),this._layer.addChild(e)},i.destroy=function(e){void 0===e&&(e=!0),t.prototype.destroy.call(this,e),this.viewList=null,this.classList=null},e}(H)),K=function(t){function e(){this.roomInfo=null,this.pewArr=[],this.sievesArr=[],this.goldBoxArr=[],this.startV=null,this.betV=null,this.inTheGame=!1,e.__super.call(this),this.btnBack.on("click",this,this.onBack),this.btnRecharge.on("click",this,this.onRecharge),this.btnColumn.on("click",this,this.onColumn),this.btnSetUp.on("click",this,this.onSetUp),this.btnRecord.on("click",this,this.onRecord),this.btnHelp.on("click",this,this.onHelp);for(var t=0;t<8;t++){var i=this.getChildByName("pew"+t),n=new q;this.pewArr.push(n),i.addChild(n);var s=this.getChildByName("sieves"+t),o=new Q;this.sievesArr.push(o),s.addChild(o);var r=this.getChildByName("goldBox"+t),a=new X;r.addChild(a),this.goldBoxArr.push({box:r,x:r.x,y:r.y,view:a})}}s(e,"game.module.hb.scene.DesktopView",c);var n=e.prototype;return n.onAdd=function(){this.toSelect(),F.instance.on("PLAYER_JOIN",this,this.playerJoin),this.initialPlayer(F.instance.playerData.playerList),F.instance.on("PLAYER_GOLD",this,this.playerGold),F.instance.on("PLAYER_LEAVE",this,this.playerLeave),F.instance.on("CAN_JOIN",this,this.onCanJion),F.instance.on("REST",this,this.onRest),F.instance.on("GETRULETIME",this,this.onStart),F.instance.on("PLAYER_GETRULE",this,this.onPlayerGetrule),F.instance.on("PLAYER_INFO",this,this.onRuleInfo),F.instance.on("SETRULETIME",this,this.onRuleSelect),F.instance.on("POINTTIME",this,this.onRuleConfirm),F.instance.on("SIEVERESULTS",this,this.sieveResults),F.instance.on("GETMONEY",this,this.getMoney),F.instance.on("ADDGOLD",this,this.addGold),F.instance.on("WAIT_TIME",this,this.onMatching)},n.onRecharge=function(){j.effect("button"),m.openShop()},n.onColumn=function(){var t=this;j.effect("button"),this.column.visible=!this.column.visible,this.timerOnce(500,this,function(){t.column.visible&&i.stage.once("click",this,t.onColumn)})},n.onSetUp=function(){j.effect("button"),A.open("HB","SETUP")},n.onRecord=function(){j.effect("button"),A.open("HB","RECORD")},n.onHelp=function(){j.effect("button"),A.open("HB","HELP")},n.reduceGold=function(t){var e=this;this.pewArr[t.i].setChange(t,!1),this.goldBoxArr[t.i].view.showGold(!0),this.goldBoxArr[t.i].box.scaleX=1,this.goldBoxArr[t.i].box.scaleY=1,this.goldBoxArr[t.i].box.pos(this.goldBoxArr[t.i].x,this.goldBoxArr[t.i].y),k.to(this.goldBoxArr[t.i].box,{x:610,y:310,scaleX:2,scaleY:2},700,null,y.create(this,function(){e.goldBoxArr[t.i].view.showGold(!1)}))},n.toSelect=function(){F.instance.playerData.backDelete();for(var t=0;t<this.pewArr.length;t++)this.pewArr[t].closePew(),this.pewArr[t].isRule();this.deleteAll()},n.deleteAll=function(){A.closeByGroup("hbProcedure"),this.schedule.removeChildren();for(var t=0;t<this.sievesArr.length;t++)this.sievesArr[t].deleteSieves()},n.openDesktop=function(t){this.roomInfo=t,this.bets.text=this.roomInfo.bets,this.rulefee.text="定规费："+this.roomInfo.rulefee,this.onMatching()},n.initialPlayer=function(t){for(var e=0;e<t.length;e++)t[e]&&this.playerJoin(e)},n.playerGold=function(t){var e=this;this.timerOnce(3e3,this,function(){t.fee=e.roomInfo.antes,e.reduceGold(t)})},n.onMatching=function(){A.closeByGroup("hbProcedure"),A.open("HB","MATCHING",null,!1,!1)},n.playerJoin=function(t){this.pewArr[t].setUpPew(F.instance.playerData.playerList[t],7==t)},n.onRest=function(t){this.inTheGame=!1,this.deleteAll(),A.open("HB","REST",t,!1,!1),this.pewArr[7].closeArrow(),F.instance.playerData.getRuleI&&this.pewArr[F.instance.playerData.getRuleI].isRule(!1,!1)},n.onStart=function(t){this.inTheGame=!0,j.effect("start"),this.startV||(this.startV=new Z),this.deleteAll(),this.schedule.addChild(this.startV),this.startV.isPlay(!0),this.timerOnce(2e3,this,this.onBets,[t-2e3])},n.onBets=function(t){this.startV.isPlay(!1),this.schedule.removeChildren(),this.betV||(this.betV=new $),this.schedule.addChild(this.betV),this.betV.onMoneyAni(),this.timerOnce(3e3,this,this.onRuleAgree,[t-3e3])},n.onRuleAgree=function(t){this.deleteAll();var e={time:t,rulefee:this.roomInfo.rulefee};A.open("HB","RULEAGREE",e,!1,!1);for(var i=0;i<this.pewArr.length;i++)this.pewArr[i].playDaojishi(t)},n.onCanJion=function(){this.deleteAll(),this.pewArr[7].stopDaojishi()},n.onPlayerGetrule=function(t){this.reduceGold(t),this.pewArr[t.i].isRule(!0,!1),this.pewArr[t.i].stopDaojishi()},n.onRuleInfo=function(t){for(var e=0;e<this.pewArr.length;e++)this.pewArr[e].isRule(!1,!1),this.pewArr[e].stopDaojishi();this.pewArr[t.i].isRule(!1,!0),this.pewArr[t.i].playDaojishi(t.time)},n.onRuleSelect=function(t){this.deleteAll(),F.instance.playerData.ruleIsMy&&A.open("HB","RULESELECT",t,!1,!1)},n.onRuleConfirm=function(t){this.deleteAll(),A.open("HB","RULECONFIRM",t,!1,!1),this.pewArr[F.instance.playerData.getRuleI].stopDaojishi()},n.sieveResults=function(t){this.sievesArr[t.i].onSieves(t.point),j.effect("sieves")},n.getMoney=function(t){this.deleteAll(),A.open("HB","SLUGMONEY",t,!1,!1)},n.addGold=function(t){var e=this;this.pewArr[t.i].setChange(t,!0),this.goldBoxArr[t.i].view.showGold(!0),this.goldBoxArr[t.i].box.scaleX=2,this.goldBoxArr[t.i].box.scaleY=2,this.goldBoxArr[t.i].box.pos(610,310),k.to(this.goldBoxArr[t.i].box,{x:this.goldBoxArr[t.i].x,y:this.goldBoxArr[t.i].y,scaleX:1,scaleY:1},700,null,y.create(this,function(){e.goldBoxArr[t.i].view.showGold(!1)}))},n.playerLeave=function(t){this.pewArr[t].closePew()},n.onBack=function(){var t=this;j.effect("button"),this.inTheGame?r.show("\n是否离开本局比赛，若离开本局会正常结算！",y.create(this,function(e){e&&(F.instance.tableLeave(y.create(this,function(e){t.toSelect(),F.instance.event("SELECT")})),j.effect("button"))})):F.instance.tableLeave(y.create(this,function(e){t.toSelect(),F.instance.event("SELECT")}))},n.onRemov=function(){F.instance.off("PLAYER_JOIN",this,this.playerJoin),F.instance.off("PLAYER_GOLD",this,this.playerGold),F.instance.off("PLAYER_LEAVE",this,this.playerLeave),F.instance.off("CAN_JOIN",this,this.onCanJion),F.instance.off("REST",this,this.onRest),F.instance.off("GETRULETIME",this,this.onStart),F.instance.off("PLAYER_GETRULE",this,this.onPlayerGetrule),F.instance.off("PLAYER_INFO",this,this.onRuleInfo),F.instance.off("SETRULETIME",this,this.onRuleSelect),F.instance.off("POINTTIME",this,this.onRuleConfirm),F.instance.off("SIEVERESULTS",this,this.sieveResults),F.instance.off("GETMONEY",this,this.getMoney),F.instance.off("ADDGOLD",this,this.addGold),F.instance.off("WAIT_TIME",this,this.onMatching),A.closeByGroup("hbProcedure"),this.clearTimer(this,this.onBets),this.clearTimer(this,this.onRuleAgree)},n.destroy=function(t){void 0===t&&(t=!0),laya.ui.View.prototype.destroy.call(this,t)},e}(),W=function(t){function e(){this.listBox=null,e.__super.call(this);var t=this;p.getSkeleton(J.getAniUrl("jiaose"),y.create(this,function(e){e.pos(180,660),t.jiaose.addChild(e)})),p.getSkeleton(f.getAniUrl("shanxian"),y.create(this,function(e){e.pos(30,22),t.shanxian.addChild(e)})),this.btnBack.on("click",this,this.onBack),this.btnAdd.on("click",this,this.onAddGold),this.btnHelp.on("click",this,this.onHelp),this.avatar.on("click",this,this.onAvatar),G.on("SELF_INFO",this,this.onUpdateSelfInfo),this.onUpdateSelfInfo(),this.roomList.hScrollBarSkin=null,this.roomList.selectEnable=!0,this.roomList.mouseHandler=y.create(this,this.onRoomList,null,!1),this.timerLoop(4e3,this,this.onAni)}s(e,"game.module.hb.scene.SelectView",O);var i=e.prototype;return i.onUpdateSelfInfo=function(){this.name.text=d.instance.self.nickname,this.avatar.skin=d.instance.self.avatar,this.gold.text=d.instance.self.gold/J.goldrate+""},i.onAdd=function(){var t=this;this.roomList.visible=!1,F.instance.roomList(y.create(this,function(e){t.roomData(e.roomList)}))},i.roomData=function(t){for(var e=[],i=0;i<t.length;i++)J.goldrate=t[i].goldrate,e.push({roomImg1:"res/hb/select/room"+i+"-1.png",roomImg2:"res/hb/select/room"+i+"-2.png",bets:"底注："+t[i].antes/t[i].goldrate,roomchipmin:"准入："+t[i].roomchipmin/t[i].goldrate,id:t[i].id,rulefee:t[i].rulefee/t[i].goldrate,antes:t[i].antes,into:t[i].roomchipmin/t[i].goldrate,btnRoom:{disabled:!t[i].isopen}});this.onUpdateSelfInfo(),this.roomList.array=e,this.roomList.visible=!0,this.listBox=[];for(var n=0;n<this.roomList.array.length;n++){var s=this.roomList.getCell(n);this.listBox.push(s)}this.AniListBox(),this.onAni()},i.AniListBox=function(){for(var t=0;t<this.listBox.length;t++)this.listBox[t].y=-700;this.frameLoop(1,this,this.onListBox)},i.onListBox=function(){for(var t=0;t<this.listBox.length;t++)(0==t||t>0&&this.listBox[t-1].y>=-350)&&(this.listBox[t].y>=0?(this.listBox[t].y=0,t==this.listBox.length-1&&this.clearTimer(this,this.onListBox)):this.listBox[t].y+=35)},i.onAni=function(){for(var t=0;t<this.listBox.length;t++){var e=this.listBox[t].getChildByName("ani");e.play(0,!1),e.interval=100}},i.onAvatar=function(){j.effect("button"),m.openUserInfo()},i.onBack=function(){j.effect("button"),R.hall()},i.onAddGold=function(){j.effect("button"),m.openShop()},i.onHelp=function(){j.effect("button"),A.open("HB","HELP")},i.onRoomList=function(t,e){var i=this;if("click"==t.type&&t.target instanceof laya.ui.Button){if(j.effect("button"),this.roomList.array[e].into>d.instance.self.gold/J.goldrate)return void r.show("\n您的金币余额不足！是否立即充值？",y.create(this,function(t){t&&m.openShop()}));F.instance.roomEnter({id:this.roomList.array[e].id},y.create(this,function(t){F.instance.event("DESKTOP",i.roomList.array[e]);for(var n=0;n<t.playerList.length;n++)F.instance.playerData.playerJoin=t.playerList[n]}))}},e}(),$=function(t){function e(){e.__super.call(this)}return s(e,"game.module.hb.ui.Bet",u),e.prototype.onMoneyAni=function(){var t=this;this.timerOnce(1300,this,function(){t.moneyAni.visible=!0,t.moneyAni.interval=100,t.moneyAni.play(),t.timerOnce(500,this,function(){t.moneyAni.visible=!1,t.moneyAni.stop()})})},e}(),X=function(t){function e(){e.__super.call(this)}return s(e,"game.module.hb.ui.Gold",g),e.prototype.showGold=function(t){this.golds.visible=t},e}(),q=function(t){function e(){this.num=0,this.direction=!0,this.txAni=null,e.__super.call(this);var t=this;p.getSkeleton(J.getAniUrl("avatarAni"),y.create(this,function(e){t.txAni=e,t.txAni.pos(44,44),t.avatarAni.addChild(t.txAni),t.txAni.paused()}))}s(e,"game.module.hb.ui.Pew",_);var i=e.prototype;return i.setUpPew=function(t,e){void 0===e&&(e=!1),this.pewBox.visible=!0,this.avatar.skin=t.avatar||"",this.name.text=t.name||t.nickname||"",this.gold.text=(t.gold/J.goldrate).toFixed(2)||"",this.arrow.visible=e,e&&this.timerLoop(30,this,this.onArrow)},i.onArrow=function(){this.num++,this.num>=10&&(this.num=0,this.direction=!this.direction),this.direction?this.arrow.y++:this.arrow.y--},i.closeArrow=function(){this.arrow.visible=!1,this.clearTimer(this,this.onArrow)},i.closePew=function(){this.pewBox.visible=!1},i.setChange=function(t,e){var i=this;j.effect("gold"),e?(this.change.text="+"+(t.addgold/J.goldrate).toFixed(2),this.change.color="#ffEa00",this.avatarAni.visible=!0,this.txAni.resume()):(this.change.text="-"+(t.fee/J.goldrate).toFixed(2),this.change.color="#b5b5b5"),this.gold.text=(t.gold/J.goldrate).toFixed(2)||"",this.change.visible=!0,k.to(this.change,{y:30},1500,null,y.create(this,function(){i.change.visible=!1,i.change.y=70,i.txAni.paused(),i.avatarAni.visible=!1}))},i.isRule=function(t,e){void 0===t&&(t=!1),void 0===e&&(e=!1),this.ruleBox1.visible=t,this.ruleBox2.visible=e},i.playDaojishi=function(t){this.daojishi.visible=!0,this.daojishi.interval=t/30,this.daojishi.play(0),this.timerOnce(t,this,this.stopDaojishi)},i.stopDaojishi=function(){this.daojishi.visible=!1,this.daojishi.stop()},e}(),Q=function(t){function e(){this.ani=null,e.__super.call(this)}s(e,"game.module.hb.ui.Sieves",C);var i=e.prototype;return i.onSieves=function(t){var e=this;this.sievesImg.visible=!1,this.saizi.visible=!0,this.sievesImg.skin="res/hb/ui/sieves"+t+".png",p.getSkeleton(J.getAniUrl("saizi"),y.create(this,function(t){e.ani=t,e.ani.pos(30,35),e.saizi.addChild(e.ani)})),this.timerOnce(1e3,this,this.onTimer)},i.onTimer=function(){this.sievesImg.visible=!0,this.ani&&this.ani.destroy(),this.saizi.visible=!1},i.deleteSieves=function(){this.ani&&this.ani.destroy(),this.sievesImg.visible=!1,this.saizi.visible=!1},e}(),Z=function(t){function e(){this.ani=null,e.__super.call(this)}return s(e,"game.module.hb.ui.Start",D),e.prototype.isPlay=function(t){var e=this;t?p.getSkeleton(J.getAniUrl("youxikaishi"),y.create(this,function(t){e.ani=t,e.ani.x=650,e.ani.y=360,e.addChild(e.ani)})):(this.ani.stop(),this.ani.destroy())},e}(),tt=function(t){function e(){this._status=null,this._data=null,e.__super.call(this),this.zOrder=9999,this.musicNum.changeHandler=y.create(this,this.onMusicNums,null,!1),this.effectNum.changeHandler=y.create(this,this.onEffectNum,null,!1),this.btnMusic.on("click",this,this.onMusic),this.btnEffect.on("click",this,this.onEffect)}s(e,"game.module.hb.popup.HbSetUpView",b);var i=e.prototype;return i.onOpened=function(){this._data=a.data,this._status=JSON.stringify(this._data),this.musicNum.value=this._data.musicVolume,this.effectNum.value=this._data.soundVolume,this.btnMusic.selected=this._data.musicOff,this.btnEffect.selected=this._data.soundOff},i.onMusic=function(){this._data.musicOff=this.btnMusic.selected,this.voice()},i.onEffect=function(){this._data.soundOff=this.btnEffect.selected,this.voice()},i.onMusicNums=function(){this._data.musicVolume=this.musicNum.value,this.voice()},i.onEffectNum=function(){this._data.soundVolume=this.effectNum.value,this.voice()},i.voice=function(){var t=JSON.stringify(this._data);t!=this._status&&(this._status=t,a.update(this._data))},e}(),et=function(t){function e(){e.__super.call(this),this.zOrder=9999,this.btnClose.on("click",this,this.onClose)}return s(e,"game.module.hb.popup.HelpView",v),e.prototype.onClose=function(){j.effect("button"),this.close()},e}(),it=function(t){function e(){e.__super.call(this);var t=this;this.group="hbProcedure",p.getSkeleton(J.getAniUrl("zzwnpp"),y.create(this,function(e){e.x=180,e.y=30,t.addChild(e)}))}return s(e,"game.module.hb.popup.MatchingView",L),e}(),nt=function(t){function e(){e.__super.call(this),this.zOrder=9999,this.recordList.vScrollBarSkin=null,this.recordList.selectEnable=!0,this.recordList.scrollBar.elasticBackTime=150,this.recordList.scrollBar.elasticDistance=200,this.btnClose.on("click",this,this.onClose)}s(e,"game.module.hb.popup.RecordView",S);var i=e.prototype;return i.onClose=function(){j.effect("button"),this.close()},i.onOpened=function(){this.recordList.array=F.instance.ruleData.getResult},e}(),st=function(t){function e(){this.time=0,e.__super.call(this),this.group="hbProcedure"}s(e,"game.module.hb.popup.RestView",t);var i=e.prototype;return i.onTimer=function(){this.time--,this.time<10?this.timerNum.value="0"+this.time:this.timerNum.value=""+this.time,this.time<=0&&(this.close(),this.clearTimer(this,this.onTimer))},o(0,i,"dataSource",t.prototype._$get_dataSource,function(t){this.time=t/1e3,this.timerNum.value=this.time+"",this.timerLoop(1e3,this,this.onTimer)}),e}(T),ot=function(t){function e(){this.time=0,e.__super.call(this),this.group="hbProcedure",this.btnJoin.on("click",this,this.onJoin),this.btnCanJoin.on("click",this,this.onCanJoin)}s(e,"game.module.hb.popup.RuleAgreeView",t);var i=e.prototype;return i.onTimer=function(){this.time--,this.timeNum.text=this.time+"",this.time<=0&&(this.close(),this.clearTimer(this,this.onTimer))},i.onJoin=function(){this.tableGetrule(1)},i.onCanJoin=function(){this.tableGetrule(-1),F.instance.event("CAN_JOIN")},i.tableGetrule=function(t){j.effect("button"),F.instance.tableGetrule({getrule:t}),this.close()},o(0,i,"dataSource",t.prototype._$get_dataSource,function(t){this.time=t.time/1e3,this.timeNum.text=this.time+"",this.rulefee.text="参与竞选需要支付"+t.rulefee+"金币...",this.timerLoop(1e3,this,this.onTimer)}),e}(I),rt=function(t){function e(){this.time=0,e.__super.call(this),this.group="hbProcedure",this.btnBetting.on("click",this,this.onBetting)}s(e,"game.module.hb.popup.RuleConfirmView",t);var i=e.prototype;return i.onTimer=function(){this.time--,this.timeNum.text=this.time+"",this.time<=0&&(this.close(),this.clearTimer(this,this.onTimer))},i.onBetting=function(){j.effect("button"),F.instance.tableOpen(),this.close()},o(0,i,"dataSource",t.prototype._$get_dataSource,function(t){this.time=t/1e3,this.timeNum.text=this.time+"",this.timerLoop(1e3,this,this.onTimer),this.ruleText.text=F.instance.ruleData.getRule}),e}(w),at=function(t){function e(){this.time=0,e.__super.call(this),this.group="hbProcedure";var t=F.instance.ruleData.ruleList;this.ruleSelectList.array=[];for(var i=0;i<t.length;i++)this.ruleSelectList.array.push({explain:t[i]});this.ruleSelectList.hScrollBarSkin=null,this.ruleSelectList.selectEnable=!0,this.ruleSelectList.scrollBar.elasticBackTime=150,this.ruleSelectList.scrollBar.elasticDistance=200,this.ruleSelectList.mouseHandler=y.create(this,this.onRuleSelectList,null,!1)}s(e,"game.module.hb.popup.RuleSelectView",t);var i=e.prototype;return i.onRuleSelectList=function(t,e){"click"==t.type&&(j.effect("button"),F.instance.tableSetrule({ruleid:e+1}),F.instance.event("CAN_JOIN"),this.close())},i.onTimer=function(){this.time--,this.timeNum.text=this.time+"",this.time<=0&&(this.close(),this.clearTimer(this,this.onTimer))},o(0,i,"dataSource",t.prototype._$get_dataSource,function(t){this.time=t/1e3,this.timeNum.text=this.time+"",this.timerLoop(1e3,this,this.onTimer)}),e}(x),lt=function(t){function e(){this.time=0,e.__super.call(this),this.group="hbProcedure",this.btnOpen.on("click",this,this.onOpen)}s(e,"game.module.hb.popup.SlugMoneyView",t);var i=e.prototype;return i.onTimer=function(){this.time--,this.openNum.text=this.time+"",this.time<=0&&(this.close(),this.clearTimer(this,this.onTimer))},i.onOpen=function(){var t=this;j.effect("button"),F.instance.tableMoney(y.create(this,function(e){t.onJinbi()}))},i.onJinbi=function(){j.effect("jinbi"),E.aniPlay(),this.close()},o(0,i,"dataSource",t.prototype._$get_dataSource,function(t){this.time=t.time/1e3,this.openNum.text=this.time+"",this.timerLoop(1e3,this,this.onTimer),1==t.iswin?(this.noOpen.visible=!1,this.open.visible=!0,j.effect("win"),this.timerOnce(1500,this,this.onJinbi)):(this.noOpen.visible=!0,this.open.visible=!1,j.effect("lose"))}),e}(U),ht=function(t){function e(){e.__super.call(this);var t=this;this.group="hbProcedure",p.getSkeleton(J.getAniUrl("youxikaishi"),y.create(this,function(e){e.x=300,e.y=200,t.addChild(e)}))}return s(e,"game.module.hb.popup.StartView",N),e}()}(window,document,Laya),"function"==typeof define&&define.amd&&define("laya.core",["require","exports"],function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});for(var i in Laya){var n=Laya[i];n&&n.__isclass&&(e[i]=n)}});